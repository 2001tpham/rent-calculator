{% extends 'dock/layout-landing.html' %}

{% block head %}
{% load static %}
<script src="{% static 'rentsplit/index.js'%}"></script>
<script src="{% static 'dock/buttons.js' %}"></script>
{% endblock head %}

{% block body %}
{% comment %} MODALS {% endcomment %}
{% comment %} CREATE PROFILE MODAL {% endcomment %}
<div class="modal" id='create-profile-modal'>
    <div class="modal-body">
        <div class="modal-header">
            <div class="modal-title">
                <h2 class='main-text white-text'>Create Profile</h2>
            </div>

            <div class="close-modal-button">
                <h3 class='close' id='create-profile-close'>&times</h3>
            </div>
        </div>

        <div class="content-wrapper center stack-divs padding">
            <form action="{% url 'rentsplit:create-profile'%}" method='POST' class='stack-divs'>
            <div id='create-profile-form-fields' class='center stack-divs'>
                {% csrf_token %}
            
                <input type="text" name='room-name' placeholder='Room Name' class='form-field'>
            
                <textarea name="description" id="" cols="30" rows="10" class='form-field' placeholder='Give Your Profile a Description'></textarea>
                
                <input type="text" name='users[]' placeholder='Add a Roommate by Username' class='form-field'>
            </div>
                <div class="center stack-divs">
                    <button class='main-button' id='add-user-in-form' type='button'>Add Another User</button>            
                
                <input type="submit" class='main-button margin-top-small'>
                </div>
            </form>
        </div>
    </div>
</div>


<div class="content-wrapper app-banner background-image-divider-main center">
    <h1 class='padding-top white-text main-text big-text'>Rent Split</h1>
</div>

<div class="banner next-to-eachother padding-top-small padding-bottom-small">
    <h2 class='main-text'>Financial planning can take hours</h2>
    <h3 class='sub-text'>Here it only takes a few minutes</h3>
</div>


    {% comment %} PROFILES {% endcomment %}
    <div class="content-wrapper app-page">

        <div>
            <div class='stack-divs'>
                {% if request.user.profile.all %}
                    {% for profile in user_profiles %}
                    {% if profile.name %}
                    <div class="big-card margin-top margin-bottom">
                        <h3 class='main-text'>{{profile.name}}</h3>
                        <a href="{% url 'rentsplit:user-profile' profile.name %}">See Details</a>
                    </div>
                    {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="big-card margin-top margin-bottom center stack-divs">
                        <h3 class='main-text'>Oh no!</h3>
                        <h4 class='sub-text'>Your rental doesn't have a profile yet</h4>
                        <h4 class='sub-text'>Good thing making one is easy!</h4>
                        <button class='main-button' id='create-profile-button'>Create a New Profile</button>
                    </div>
                {% endif %}
            </div>
        </div>

    </div>

    {% endblock %}